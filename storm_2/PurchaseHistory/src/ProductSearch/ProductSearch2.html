<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../layout/layout.css">
    <link rel="stylesheet" href="../../../commom/common.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>



    </style>

</head>

<body>

    <header>
        <div class="container" id="app">
            <a class="navbar-brand logo" href="#"><img class="w-100" src="../../../img/logo_steam.png" alt=""></a>
            <div class="navbar lg">
                <nav style="--bs-breadcrumb-divider: '';" aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <div class="dropdown">
                                <a class="dropdown-toggle" type="button">
                                    商店
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark">
                                    <li><a class="dropdown-item" href="../shopstore/shopstroeHomePage.html">首頁</a></li>
                                    <li><a class="dropdown-item" href="#">探索佇列</a></li>
                                    <li><a class="dropdown-item" href="../wishlist/wishlist.html">願望清單</a></li>
                                    <li><a class="dropdown-item" href="#">點數商店</a></li>
                                    <li><a class="dropdown-item" href="#">新聞</a></li>
                                    <li><a class="dropdown-item" href="#">統計資料</a></li>
                                    <li><a class="dropdown-item" href="#">關於</a></li>
                                </ul>
                            </div>
                        </li>
                        <li class="breadcrumb-item">
                            <div class="dropdown">
                                <a class="dropdown-toggle" type="button">
                                    社群
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark">
                                    <li><a class="dropdown-item" href="../shopstore/shopstroeHomePage.html">首頁</a></li>
                                    <li><a class="dropdown-item" href="#">討論區</a></li>
                                    <li><a class="dropdown-item" href="#">工作坊</a></li>
                                    <li><a class="dropdown-item" href="#">市集</a></li>
                                    <li><a class="dropdown-item" href="#">實況直播</a></li>
                                </ul>
                            </div>
                        </li>
                        <li class="breadcrumb-item"><a href="#">關於</a></li>
                        <li class="breadcrumb-item"><a
                                href="../customer-service/customer_service_homepage/customer_service.html">客服中心</a></li>
                    </ol>
                </nav>
            </div>
            <div class="log">
                <button type="button" class="btn btn-primary btn-sm" @click="change_status">切換狀態</button>
                <!-- 沒登入時顯示 -->
                <template v-if="!current_status">
                    <a href="../login/login.html">登入</a>
                </template>
                <!-- 登入後 -->
                <template v-if="current_status">
                    <div class="log-in-type">
                        <!-- notify，請點擊右上角小鈴鐺 -->
                        <p class="notify">
                            <button class="btn" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapse-notify" aria-expanded="false" aria-controls="collapse-notify">
                                <img src="../img/bell.svg" alt="">
                            </button>
                        </p>
                        <div class="collapse-notify collapse" id="collapse-notify">
                            <div class="card card-body">
                                <div class="title">
                                    <div class="title-name">
                                        通知
                                    </div>
                                    <button class="btn view"><a
                                            href="../Stellar(NotifyPage)/Stellar(NotifyPage)_v2.html">檢視全部</a></button>
                                </div>
                                <div class="content">
                                    <!-- 沒通知 顯示-->
                                    <!-- <template> -->
                                    <p class="status">您目前沒有任何新通知。</p>
                                    <p class="sug">在此處您可見到與願望清單、好友、遊戲、物品庫和其他內容相關的Stellar內容</p>
                                    <!-- </template> -->
                                </div>
                            </div>
                        </div>
                        <div class="user-info">
                            <div class="dropdown">
                                <a class="btn  dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    tenyadesu5487
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark py-0" aria-labelledby="dropdownMenuLink">
                                    <li><a class="dropdown-item"
                                            href="../personal(user)/personal_firstpage.html">檢視我的個人檔案</a></li>
                                    <li><a class="dropdown-item"
                                            href="../account_page/account_page.html">帳戶詳細個人資料：<span>tenyadesu5487</span></a>
                                    </li>
                                    <li><a class="dropdown-item" href="#">商店偏好設定</a></li>
                                    <li><a class="dropdown-item" href="#">檢視我的錢包：<span>NT$</span><span>77.88</span></a>
                                    </li>
                                    <li><a class="dropdown-item" href="#">登出帳戶...</a></li>
                                </ul>
                            </div>
                            <a href="#" class="wallet"><span>NT$</span><span>77.88</span></a>

                        </div>
                        <div class="user-headshot"><img src="https://picsum.photos/34/34/?random=10"></div>
                    </div>

                </template>
            </div>
            <nav class="navbar  bg-body-tertiary ">
                <div class="container-fluid">

                    <button class="navbar-toggler " type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling">

                        <span class="top"></span>
                        <span class="middle"></span>
                        <span class="bottom"></span>

                    </button>
                    <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="true" tabindex="-1"
                        id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">

                        <div class="offcanvas-body p-0">

                            <ul class="accordion p-0" id="offcanvas-accordion">
                                <!-- 登入前 的登入按鈕 -->
                                <template v-if="!current_status">
                                    <li class="aonly"><a href="../login/login.html">登入</a></li>
                                </template>
                                <!-- 登入後的 user資訊-->
                                <template v-if="current_status">
                                    <li class="card-user">
                                        <div class="user-info">
                                            <img src="https://picsum.photos/34/34/?random=10">
                                            &ensp;
                                            <a href="../personal(user)/personal_firstpage.html">tenyadesu5487</a>
                                        </div>
                                        <div class="wallet">
                                            <span>錢包</span>
                                            <span class="money">（NT$</span>
                                            <span class="money dollar">77.88</span>
                                            <span class="money">）</span>

                                        </div>
                                    </li>
                                </template>
                                <!-- 通知，有登入才有 -->
                                <template v-if="current_status">
                                    <li class="drop">
                                        <div class="accordion-item">

                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#collapse-notification"
                                                aria-expanded="true" aria-controls="collapse-notification">
                                                <p><span>通知&ensp;</span><span>0</span></p>
                                            </button>

                                            <div id="collapse-notification" class="accordion-collapse collapse"
                                                data-bs-parent="#offcanvas-accordion">
                                                <div class="accordion-body">
                                                    <ul>
                                                        <li>目前沒通知</li>
                                                    </ul>

                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </template v-if="current_status">
                                <li class="drop">
                                    <div class="accordion-item">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapse-store"
                                            aria-expanded="true" aria-controls="collapse-store">
                                            <p>商店</p>
                                        </button>

                                        <div id="collapse-store" class="accordion-collapse collapse"
                                            data-bs-parent="#offcanvas-accordion">
                                            <div class="accordion-body">
                                                <ul>
                                                    <li><a href="../shopstore/shopstroeHomePage.html">首頁</a></li>
                                                    <li><a href="#">探索佇列</a></li>
                                                    <li><a href="#">願望清單</a></li>
                                                    <li><a href="#">點數商店</a></li>
                                                    <li><a href="#">新聞</a></li>
                                                    <li><a href="#">統計資料</a></li>
                                                </ul>

                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="drop">
                                    <div class="accordion-item">

                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapse-community"
                                            aria-expanded="true" aria-controls="collapse-community">
                                            <p>社群</p>
                                        </button>

                                        <div id="collapse-community" class="accordion-collapse collapse"
                                            data-bs-parent="#offcanvas-accordion">
                                            <div class="accordion-body">
                                                <ul>
                                                    <li><a href="../shopstore/shopstroeHomePage.html">首頁</a></li>
                                                    <li><a href="#">討論區</a></li>
                                                    <li><a href="#">工作坊</a></li>
                                                    <li><a href="#">市集</a></li>
                                                    <li><a href="#">實況直播</a></li>
                                                </ul>

                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <!-- 您和好友，也是登入才會有 -->
                                <template v-if="current_status">
                                    <li class="drop">
                                        <div class="accordion-item">

                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#collapse-friend"
                                                aria-expanded="true" aria-controls="collapse-friend">
                                                <p>您和好友</p>
                                            </button>

                                            <div id="collapse-friend" class="accordion-collapse collapse"
                                                data-bs-parent="#offcanvas-accordion">
                                                <div class="accordion-body">
                                                    <ul>
                                                        <li><a href="#">動態</a></li>
                                                        <li><a href="../personal(user)/personal_firstpage.html">個人檔案</a>
                                                        </li>
                                                        <li><a href="#">好友</a></li>
                                                        <li><a href="#">遊戲</a></li>
                                                        <li><a href="#">內容</a></li>
                                                        <li><a href="#">物品庫</a></li>
                                                    </ul>

                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </template>
                                <!-- 聊天，登入後才有朋友可以聊天 -->
                                <template v-if="current_status">
                                    <li class="aonly"><a href="../message/message.html">聊天</a></li>
                                </template>
                                <li class="aonly"><a href="#">關於</a></li>
                                <li class="aonly"><a href="#">客服</a></li>
                                <li class="func">
                                    <!-- 以下3個只會再登入出現 -->
                                    <template v-if="current_status">
                                        <a href="#" class="btn  change-language">帳戶詳細資訊</a>
                                        <a href="#" class="btn  change-language">商店偏好設定</a>
                                        <a href="#" class="btn  change-language">變更使用者</a>
                                    </template v-if="current_status">
                                    <a href="#" class="btn  change-language">變更語言</a>
                                    <a href="#" class=" btn  get-app">取得 Stellar 行動應用程式</a>
                                    <button type="button" class="btn btn-primary btn-sm text-center"
                                        @click="change_status">切換狀態</button>
                                </li>
                            </ul>
                            <div class="offcanvas-footer">
                                <div>
                                    <p>© 版權所有?並沒有。純為教育使用，非商業用途，所有商標皆純屬虛構。</p>
                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                            <li class="breadcrumb-item"><a href="#">隱私權政策</a></li>
                                            <li class="breadcrumb-item"><a href="#">法律聲明</a></li>
                                            <li class="breadcrumb-item"><a href="#">Stellar訂戶協議</a></li>
                                            <li class="breadcrumb-item"><a href="#">退款</a></li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

        </div>
    </header>
    <main>
        <div id="productSearch" class="container ">
            <!--手機版面 漢堡 -->
            <div class="md:hidden">
                <label for="side-menu-switch"
                    class=" fixed top-[10px] left-[91%] w-[50px] h-[40px] bg-[#3b547f] opacity-90 rounded-tl-[40px] rounded-bl-[40px] flex justify-around items-center p-2 cursor-pointer z-40">
                    <div class="burger">
                        <span class="block w-8 h-1 bg-gray-800 m-[5px]"></span>
                        <span class="block w-8 h-1 bg-gray-800 m-[5px]"></span>
                        <span class="block w-8 h-1 bg-gray-800 m-[5px]"></span>
                    </div>
                </label>

                <!--  -->
                <!-- checkbox -->
                <input type="checkbox" id="side-menu-switch" class="absolute opacity-0 z-[-1]" v-model="menuVisible">
                <transition name="fade" @@enter="enter" @@leave="leave">
                    <div v-show="menuVisible"
                        class="side-menu  fixed top-[12px] right-0 p-2 md:block   w-[350px]  h-full box-border bg-[#171A21] flex flex-col shadow-[5px_0_10px_hsla(240,_40%,_15%,_.6)] translate-x-[100%] transition-all duration-300 z-[30]">
                        <!-- 手風琴 -->
                        <div id="accordion-color" class="accordion-cus">
                            <div class="price">
                                <h2 class="w-full">
                                    <button
                                        class="flex p-1 my-3 items-center justify-between w-full bg-[#2F3138] h-[20px] font-medium text-gray-500  border-gray-200 hover:bg-blue-100 text-sm"
                                        @click="toggleAccordion('price')">
                                        <span><b>依照價格縮小範圍</b></span>
                                        <svg :class="{ 'rotate-180': isAccordionOpen.price }"
                                            class="w-3 h-3 rotate shrink-0" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2" d="M9 5 5 1 1 5" />
                                        </svg>
                                    </button>
                                </h2>
                                <div :class="['accordion-content', { 'active': isAccordionOpen.price }]"
                                    class="accordion-content text-[#9FBBCB] text-12  max-h-0 overflow-hidden p-0 transition-[max-height] duration-300 ease-in">
                                    <!-- 在拖拉時要 動態跟新 價錢  使用vue -->
                                    <div class="ml-2 space-y-2" style="text-align-last: left;">
                                        <input type="range" min="0" max="10" v-model="priceLimit"
                                            class="w-full h-[3px] outline-none transition duration-100">
                                        <div class="m-auto ">
                                            <span>低於</span>
                                            <span>NT$</span>
                                            <span> {{ actualPrice }}</span>
                                        </div>
                                        <hr my-2 class=" text-[#2F3138]">
                                        <div>
                                            <input type="checkbox" class="h-2.5 w-2.5" v-model="showDiscounted"
                                                @change="handleDiscountedChange">
                                            特別優惠
                                        </div>
                                        <div>
                                            <input type="checkbox" class="h-2.5 w-2.5" v-model="hideFreeItems"
                                                @change="handleHideFreeItemsChange">
                                            隱藏免費遊玩項目
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tags">
                                <h2 class="w-full">
                                    <button
                                        class="flex p-1  mb-3 items-center justify-between w-full bg-[#2F3138] h-[20px] font-medium text-gray-500  hover:bg-blue-100 text-sm "
                                        @click="toggleAccordion('tags')">
                                        <span><b>依照標籤縮小範圍</b></span>
                                        <svg class="w-3 h-3 rotate shrink-0" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2" d="M9 5 5 1 1 5" />
                                        </svg>
                                    </button>
                                </h2>
                                <div :class="['accordion-content', { 'active': isAccordionOpen.tags }]"
                                    class=" accordion-content text-[#9FBBCB] text-12 space-y-2 max-h-0 overflow-hidden p-0 transition-[max-height] duration-300 ease-in overflow-y-scroll">
                                    <!-- 使用vue 從資料庫 帶資料近來-->
                                    <div v-for="(tag, index) in tags" :key="index">
                                        <input type="checkbox" class="h-2.5 w-2.5" @@change="toggleTag(tag.tagId)"
                                            :value="tag.tagId">
                                        {{ tag.name }}
                                    </div>

                                </div>
                            </div>

                            <div class="category">
                                <h2 class="w-full">
                                    <button
                                        class="flex items-center p-1 justify-between w-full  h-[20px] bg-[#2F3138] font-medium text-gray-500  border-gray-200 hover:bg-blue-100 text-sm"
                                        @click="toggleAccordion('category')">
                                        <span><b>依玩家人數縮小範圍</b></span>
                                        <svg :class="{ 'rotate-180': isAccordionOpen.category }"
                                            class="w-3 h-3 rotate shrink-0" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2" d="M9 5 5 1 1 5" />
                                        </svg>
                                    </button>
                                </h2>
                                <div :class="['accordion-content', { 'active': isAccordionOpen.category }]"
                                    class="accordion-content  text-[#9FBBCB]  text-12 space-y-2 max-h-0 overflow-hidden p-0 transition-[max-height] duration-300 ease-in	overflow-y-scroll">
                                    <div v-for="(category, index) in categorys" :key="index">
                                        <input @change="toggleCategory(category.id)" type="checkbox" class="h-2.5 w-2.5"
                                            :value="category.id"> {{ category.name }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </transition>

            </div>


            <a href="#" class="btn">
                <div v-if="queryTag && queryTag.trim() !== ''" class="bg-[#18283A] text-[#67C1F5] text-10 w-fit p-2">
                    <span>{{ queryTag }}</span>
                    <i class="fa-solid fa-circle-xmark ml-3 cursor-pointer" @@click="clearQueryTag"></i>
                </div>
                <div v-else>
                    <h4 class="text-[25px] mt-2">全部商品</h4>
                </div>
            </a>

            <div class="flex justify-between ">
                <div class="md:flex md:w-[65%] max-w-960 fixed-content ">
                    <div class=" md:flex md:w-4/5">
                        <!-- 搜尋框 -->
                        <div class="mt-3 w-full">
                            <div class="w-[130%]">
                                <div class="bg-[#101822] p-2 md:flex md:justify-between">
                                    <div class="block  md:flex">
                                        <div class="flex ml-auto items-center text-12 bg-[#111a25] text-[#2694D7]">
                                            <div class="mr-1.5 text-gray-400 w-fit">排序依據</div>
                                            <select id="sort-select"
                                                class="h-[25px] text-12 bg-[#1e3548]  p-0  w-4/5 md:w-[100px]  "
                                                @change="handleSortChange">
                                                <option value="" class="hover:bg-[#4685b8] ml-1">依照條件排序</option>
                                                <option value="startDate">發行日期</option>
                                                <option value="lowestPrice">最低價格</option>
                                                <option value="highestPrice">最高價格</option>
                                                <!-- <option value="">使用者評論</option> -->
                                            </select>
                                        </div>
                                    </div>
                                    <div class="flex  mt-2">
                                        <input v-model="searchQuery" type="text" id="simple-search"
                                            class=" bg-[#223A4C]  text-sm  block h-[35px] p-2.5 w-4/5"
                                            placeholder="輸入搜尋詞彙或標籤" required />
                                        <button type="submit"
                                            class="p-1.5 text-sm font-medium ml-3  text-[#67C1F5] bg-[#223A4C]  hover:bg-blue-800 w-1/5">
                                            搜尋
                                            <span class="sr-only">Search</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="bg-[#16202D] text-sm mt-2 p-2 text-[#FAD887]">
                                    <span>{{totalCount}}</span>項相符的搜尋結果。 已根據您的偏好設定排除
                                    <span>{{excludedProductsCount}}</span> 款產品。
                                </div>
                                <!-- 遊戲卡片從這-->

                                <ul v-if="products.length > 0">
                                    <li v-for="(product, index) in filteredProducts" :key="product.productID"
                                        draggable="true" @dragstart="onDragStart(index)"
                                        @dragover="onDragOver(index, $event)" @dragenter="onDragEnter(index, $event)"
                                        @dragleave="onDragLeave($event)" @drop="onDrop(index, $event)">

                                        <a :href="`/product/productpage/${product.productID}`"
                                            class="flex w-full my-2 px-4 py-2 bg-[#16202D] hover:bg-[#3a3535d4] item"
                                            :class="{   'drag-over': dragOverIndex === index,
                                            'dragging': isDragging && draggedIndex === index, }">

                                            <div class="product flex w-full justify-between">
                                                <div class="flex">
                                                    <div class="block">
                                                        <img :src="product.productImgUrl" alt="Product Image"
                                                            class="h-[50px] w-[100px]" />

                                                        <div class="flex md:hidden mt-1">
                                                            <div class="text-12 text-[#2469B2]">
                                                                {{ product.startdate}}
                                                            </div>
                                                            <img :src="product.commentImgUrl" alt=""
                                                                class="ml-3 w-[10px] h-[10px] mt-1">
                                                        </div>

                                                    </div>
                                                    <div class="md:block text-[#aca6a6] ml-3">
                                                        <div class="text-sm">
                                                            <b>{{ product.productName }}</b>
                                                        </div>
                                                        <img :src="product.operatingSystemImg" alt="系統icon"
                                                            class="w-[12px] h-[12px] mt-1 ">
                                                    </div>
                                                </div>
                                                <!-- 桌機版面遊戲名稱 -->
                                                <div class="block md:flex">
                                                    <div
                                                        class="flex justify-between  items-center   gap-4 space-x-4 text-sm leading-none text-[#aaa4a4] ">
                                                        <div class="text-[#4c6c91] text-12 md:flex hidden ">
                                                            <span class="w-[110px]">{{ product.startdate }}</span>
                                                            <img :src="product.commentImgUrl" alt=""
                                                                class="ml-3 w-[10px] h-[10px] ">
                                                        </div>
                                                        <div class="w-[100px] flex mt-2 md:mt-0 "
                                                            style="margin-left: 0;">
                                                            <!-- 折扣標籤 -->
                                                            <div v-if="product.discountPercent >= 1 && product.discountPercent!==100"
                                                                class="text-center content-evenly bg-[#69942d] text-[#BEEE13]  w-[40px] h-[25px] font-extrabold text-12 p-1 mr-3">
                                                                <span>-</span>
                                                                <span>{{ product.discountPercent }}</span>
                                                                <span>%</span>
                                                            </div>
                                                            <div v-else
                                                                class=" content-evenly  w-[60px] h-[25px] font-extrabold text-12 p-1 mr-3">
                                                            </div>
                                                            <!-- self-center  -->
                                                            <div
                                                                class="flex self-center  md:block w-[100px]  justify-end">
                                                                <div v-if="product.unitlPrice <= 0" class=" font-bold">
                                                                    免費
                                                                </div>
                                                                <!--align-content: space-evenly; -->
                                                                <div v-else class="flex md:block content-evenly ">
                                                                    <!-- 原價 -->
                                                                    <div v-if=" product.unitlPrice>product.totalPrice"
                                                                        class="line-through md:text-8 text-10  w-[10px] text-[#808079] flex">
                                                                        <span>NT$</span>{{ product.unitlPrice }}
                                                                    </div>
                                                                    <!-- 折扣後 -->
                                                                    <div
                                                                        class="text-10 mr-1 ml-7 md:ml-0 w-[20px] md:mt-1 pr-0 flex ">
                                                                        <div class="">NT$</div>
                                                                        <div>{{ product.totalPrice }}</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                                <div v-if="isLoading" class="text-center text-[25px] my-2.5">加載中...</div>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- 桌機 側邊攔 -->
                <div class="p-2 hidden md:block border-cus-1 w-[30%] border-[#323E4C] bg-[#1B2838] md:ml-4">
                    <!-- 手風琴 -->
                    <div id="accordion-color" class="accordion w-full	text-center">
                        <div class="price">
                            <h2 class="w-full my-[7px] ">
                                <button
                                    class="flex p-1  items-center justify-between w-full bg-[#2F3138] h-[20px] font-medium text-gray-500  border-gray-200 hover:bg-blue-100 text-sm"
                                    @click="toggleAccordion('price')">
                                    <span><b>依照價格縮小範圍</b></span>
                                    <svg :class="{ 'rotate-180': isAccordionOpen.price }"
                                        class="w-3 h-3 rotate shrink-0" aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-width="2" d="M9 5 5 1 1 5" />
                                    </svg>
                                </button>
                            </h2>
                            <div :class="['accordion-content', { 'active': isAccordionOpen.price }]"
                                class="accordion-content text-[#9FBBCB] text-12  max-h-0 overflow-hidden p-0 transition-[max-height] duration-300 ease-in">
                                <div class="ml-2 space-y-2" style="text-align-last: start">
                                    <input type="range" min="0" max="12" v-model="priceLimit"
                                        class="w-full h-[3px] outline-none transition duration-100">
                                    <div class="m-auto">
                                      
                                        <span v-if="actualPrice === 0">免費</span>
                                        <span v-else-if="actualPrice>=2000">任何價格</span>
                                        <span v-else> 
                                            <span>低於</span>
                                            <span>NT$</span>{{actualPrice}}
                                        </span>
                                    </div>
                                    <hr>
                                    <div>
                                        <input type="checkbox" class="h-2.5 w-2.5" v-model="showDiscounted"
                                            @change="handleDiscountedChange">
                                        特別優惠
                                    </div>
                                    <div>
                                        <input type="checkbox" class="h-2.5 w-2.5" v-model="hideFreeItems"
                                            @change="handleHideFreeItemsChange">
                                        隱藏免費遊玩項目
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="my-2 tags">
                            <h2 class="my-2">
                                <button
                                    class="flex p-1  items-center justify-between w-full bg-[#2F3138] h-[20px] font-medium text-gray-500  hover:bg-blue-100 text-sm"
                                    @click="toggleAccordion('tags')">
                                    <span><b>依照標籤縮小範圍</b></span>
                                    <svg :class="{ 'rotate-180': isAccordionOpen.tags }" class="w-3 h-3 rotate shrink-0"
                                        aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 10 6">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-width="2" d="M9 5 5 1 1 5" />
                                    </svg>
                                </button>

                                <!--  v-model="selectedTags" -->
                            </h2>
                            <div :class="['accordion-content', { 'active': isAccordionOpen.tags }]"
                                class="accordion-content text-left text-[#9FBBCB] text-12 space-y-2 w-full  max-h-0 overflow-hidden p-0 transition-[max-height] duration-300 ease-in overflow-y-scroll">
                                <!-- 使用vue 從資料庫 帶資料近來-->
                                <div v-for="(tag, index) in tags" :key="index">
                                    <input @change="toggleTag(tag.tagId)" :value="tag.tagId" type="checkbox"
                                        class="h-2.5 w-2.5">
                                    {{ tag.name }}
                                </div>
                            </div>
                        </div>
                        <div class="category">
                            <h2 class="w-full ">
                                <button
                                    class="flex items-center p-1 mt-2 justify-between w-full h-[20px] bg-[#2F3138] font-medium text-gray-500  border-gray-200 hover:bg-blue-100 text-sm"
                                    @click="toggleAccordion('categorys')">
                                    <span><b>依分類縮小範圍</b></span>
                                    <svg :class="{ 'rotate-180': isAccordionOpen.categorys}"
                                        class="w-3 h-3 rotate shrink-0" aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-width="2" d="M9 5 5 1 1 5" />
                                    </svg>
                                </button>
                            </h2>
                            <div :class="['accordion-content', { 'active': isAccordionOpen.categorys}]"
                                class="accordion-content text-[#9FBBCB] text-12 space-y-2 text-left max-h-0 overflow-hidden p-0 transition-[max-height] duration-300 ease-in overflow-y-scroll">
                                <div v-for="(category, index) in categorys" :key="index">
                                    <input @change="toggleCategory(category.id)" type="checkbox" class="h-2.5 w-2.5"
                                        :value="category.id"> {{ category.name }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="container">
            <hr>
            <div class="privacy">

                <div class="text">
                    <p>© 版權所有?並沒有。純為教育使用，非商業用途，所有商標皆純屬虛構。</p>
                    <p>貨物既出，恕不退貨</p>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">隱私權政策</a></li>
                            <li class="breadcrumb-item"><a href="#">法律聲明</a></li>
                            <li class="breadcrumb-item"><a href="#">Stellar訂戶協議</a></li>
                            <li class="breadcrumb-item"><a href="#">退款</a></li>
                        </ol>
                    </nav>
                </div>
                <div class="logo">
                    <img src="../../../img/logo_steam.png" alt="">
                </div>
            </div>
            <hr>
            <div class="footer-navbar">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="https://www.build-school.com/">關於Stellar</a></li>
                        <li class="breadcrumb-item"><a href="https://rdrc.mnd.gov.tw/page/index">人才招募</a></li>
                        <li class="breadcrumb-item"><a
                                href="../customer-service/customer_service_homepage/customer_service.html">客服中心</a></li>
                        <li class="breadcrumb-item"><a href="#">Stellar發行</a></li>
                    </ol>
                </nav>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="../../../layout/layout.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="./productSearch.js"></script>
</body>

</html>